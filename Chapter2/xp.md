# XP的由来

本部分关于XP的主要的内容参考的是Kent在2004年写的《解析极限编程-拥抱变化》，如果对比他在1999年出版的第一个 版本的话，你会发现其中无论是价值观、原则和实践都发生了一些变化，当然这个恰恰体现了敏捷的拥抱变化。

XP中提到的价值观和各种原则很多都是思想层面和面对事物我们应该如何思考，他们不仅仅可以用在软件开发中，也可以用在我们生活的方方面面。

# XP的主要价值观

刚开始学习敏捷的时候，我最喜欢的是学习它的各种实践和工具，因为这些可以直接使用的东西让我觉得我能以最快的方式明白并实施敏捷。但是随着我对敏捷的了解，我发现其实产生这些实践或工具的价值观反而是更重要的。因为这些价值观是实践或工具的源泉，是我们要追求的“本”。不同的团队在实施过程中可以使用不同的实践，关键是要和最原始的我们追求的价值相符合。我们可能经常听到说“我们是按照XP来开发的，XP中要求我们应该如何如何“。这种说法其实是有待商榷的。XP中的各种实践其实是来自于价值观，这些实践是可以不断变化和进化的，所以核心依然是团队应该有一个正确的价值观。

XP的五个价值观：

1. 沟通（Communication）

   > 每当你遇到一个问题，首先问自己这个问题是不是由于缺乏沟通引起的，你需要什么样的沟通来解决该问题？需要什么样的沟通来是你以后避免这样的麻烦

   重视沟通，并不是说我写一个一千页的文档就是重视沟通。如果每天15分钟的交流更有效的话，那么为什么还要花那么多时间写文档呢。所以重视沟通，应该寻找最有效的沟通方式，而不是尽可能多的花时间在沟通上。

   敏捷非常重视沟通，像结对编程、站立会议、看板等其实都是和沟通直接相关的。

2. 简单（Simplicity）

   这里的简单其实是有前提的。

   > 什么是最简单而又可能有效的。

   简单的前提是要有效，不是一味的追求纯粹的简单。另外这里的简单要主要的是针对当前的开发团队的简单，而不是针对这个世界的简单。这个世界有很多能力非凡的牛人，对他们来说很多事情很简单，但是在我们自己的开发团队中可能就不是那么简单。对于Kent Beck来说，针对自己的项目把JUnit稍微改一下以适应自己的项目可能是相对简单的，因为他是JUnit的作者之一，但是对于大部分的开发团队而言，这个可是非常困难的。

3. 反馈（Feedback）

   之所以需要反馈，其实是因为我们没有办法一次做到完美。反馈非常容易理解，就像我们现在画一些过程改进的流程一样，我们最喜欢看到的是一个“圈”，就是一个循环或者就是一个反馈。每次完成了一个事情之后，我们都需要不断地总结并提供反馈，使得下一次能够做的更好。

   反馈的周期最好能够短一点。如果我们做错了一件事情，我们希望能够马上就能知道错了，这样就可以很快改进，修改的成本也最低。以测试中最常见的缺陷为例。缺陷是对开发人员开发的软件的一种反馈，说明存在一些漏洞。那么从开发人员引入缺陷到这个缺陷被发现以及后面的修复和验证，整个反馈的周期希望能够越短越好。很对敏捷中的实践都是来自这个价值观。

4. 勇气（Courage）

   这个词出现在价值观众让我觉得很有意思。第一感觉是和我们平时的工作关联不大。这里的勇气可以是耐心、坚持、不断的探究等。但是Kent也提到，勇气需要和其他价值观放在一起，不能孤立存在，否则可能会出现一些问题。相对于"勇气"，我个人可能更喜欢用“激情”这个词。

5. 尊重（Respect）

   前面的几个价值观相对针对的是个体的多一些。最后这个价值观“尊重”，我感觉更倾向于团队构建的，有了“尊重”才能保证整个团队能够敏捷。尤其是在敏捷团队中，很多牛人一起工作，每个人都有自己的特点，“尊重”可以保证大家更好的合作。

上面讲到的这五个价值观是XP中重点提到的五个，每个敏捷团队都可以根据自己团队的特点制定适合自己的价值观，并根据这些价值观来不短的调整自己的实践。就像“尊重”这个价值观，就是Kent在2004年的极限编程的第二版中新增加的，在1999年的第一版的时候没有这个价值观。

前面我们提到价值在某种程度上相对于实践来说更重要。但是如果只有价值的话，显然也是不行的。最终还是需要将这些价值体现在项目中，所以价值和后面讲到的原则和实践是相辅相成的。

# XP的原则

1. 人性化（Humanity）

   软件本身没有情感，但是参与软件开发的人是有情感的。所以在整个开发过程中，一定要考虑人性化。没有程序员能够每天八个小时持续高效的工作的，按照稳定的速率前进可能要比每天都打疲劳战更高效。敏捷中经常提到要构建自组织、自激励的团队。但是客观的将，构建这样的团队对人的要求是很高的。每个人都是在寻求技能的提升和职业发展，只有当个人需求和团队目标完全一致的时候才是这种理想的状态，否则在不同时期每个人可能都要不同程度的有所妥协。在软件开发项目中，需要尽可能构建一个人性化的环境，以支持每个人都能最大程度的发挥他们的价值。

2. 经济学（Economics）

   看到这个原则，我的脑袋里蹦出一句话“成年人的世界没有对错,只有利益”。这句话说的肯定是绝对了，但是利益在现实世界中是很重要的维度。一个公司的主要的根本目的是什么？追求利益的最大化。经济学在软件开发项目中非常重要，但是又是经常被开发团队忽略的。因为作为一名技术人员，不自觉的就可能陷入一种技术思维，而不是经济思维。技术人员可能更喜欢讨论哪个技术方案更好，哪种工具更先进。但是在日常的讨论中，务必牢记，从经济上看问题是很重要的，要关注价值。

3. 互惠互利（Mutual Benefit）

   在工作中一定要争取双赢或者是多赢的局面，只有达到双赢的方法才是最容易推荐和实施的方法。很多事情看起来有道理，但是可能并不是互惠互利的。例如：项目中经常要求开发人员尽可能写完善的文档，但是这些文档本身对于开发人员自己来说可能没有什么用处，而是为了帮助测试人员指导测试设计或执行的。这种情况其实就不是一种双赢。在敏捷中，会提倡先测试再编码，还会有代码即文档的说法，都是一种互利互惠的局面。

   所以在工作中，切忌不要一位的对他们提出要求来满足自己的需要，要极可能的挖掘出双赢的解决方案。

4. 自相似性（Self-Similarity）

   > 将一个解决方案的架构复制到在一个新的场景中，即使他们具有不同颗粒度

   同样的实践可以用在个人身上，也可以用在一个小组中，还可以用到整个项目团队。例如：持续集成的实践，可以是每个开发人员自己开发的模块上使用，也可以在团队的模块集成中使用，同样可以扩大到整个产品的系统上。当然这种复制不是绝对的，肯定也存在由于不适合而导致的无法负责的情况。
   
5. 改进（Improvement）

   > 在软件开发中，“完美”是个动词，而非形容词。完美的过程是不存在的，完美的设计是不存在的，完美的故事也是不存在的。但是你能使你的过程、设计和故事更加完美。

   持续改进需要融入XP，甚至是敏捷团队的血液中。“持续”和“改进”同样重要，因为“完美”是个动词。需要不断的改进和自我挑战，让软件变得越来越“完美”。

6. 多样性（Diversity）

   多样性非常好理解。在日常的工作中，我们希望团队的成员技能、个性是多样的，考虑的解决方案是多样的，看到事情的角度也是多样的。但是在实际的工作中要做到拥抱多样性其实不是那么容易。但我们准备招聘一个新的团队成员的时候，可能不自觉的招募和自己类似特质的人；当讨论解决方案的时候，我们潜意识希望大家的想法和自己保持一致，对不同的意见保持排斥。这些都是在日常工作中需要时刻提醒自己的，多样性的重要性。

7. 反省（Reflection）

   > 好的团队并不只是进行他们的工作，他们会思考如何工作和为什么工作。他们会分析为什么成功或失败。

   反省更多的是一种思考。反省非常重要，但是在日常又是大家经常忽略的。团队经常是专注于各种开发任务，缺少思考的时间。反省的方式有很多，不一定是和项目团队一起，平时和朋友家人聊天，广泛的阅读非IT相关的书籍，都会有助于帮助我们思考如何工作和为什么工作。当然作为反省的结果，必然是有相关的行动与之配合的，否则就成为空想了。

8. 流

   “流”这个原则的提出还是非常有意义的。流的概念打破了传统的瀑布模型、V模型中的结构化和模块化的理念。XP的实践更倾向于各个活动是连续的流，而不是多个离散的阶段。让整个开发更顺畅，就像流水一样。

   按照流的原则，XP会加以使用频繁的小的增量进行持续基层。每日构建其实就是面向流的，当然为了保证软件功能时刻都能正常工作，每天可能需要多次构建。

   很多团队在进行各种不同级别（例如系统测试）的测试时都会有一个非常明确的入口准则，如果入口准则不满足，就不会进入下个阶段的测试。这种做法能够非常好的保证系统测试执行的效率，避免因为开发的版本质量太差而导致系统测试效率不高（可能是很多测试运行不了，或者缺陷太多导致频繁的版本升级影响测试的效率）。那么大家觉得这种实践符合“流”的原则吗？

9. 机遇（Opportunity）

   > 要学会把问题看做改变的机遇

   这个原则更多是关于面对问题时的态度。一个积极正面的的态度对解决问题是非常有意义的。每个出现的问题都可能是一次机遇，可能是个人能力提高的机遇、产品质量提高的机遇、团队更好的合作的机遇等。

   > 当你开始时间XP，你肯定会遇到问题。极限的其中一个 意思就是有意识的选择将每个问题转化为机遇。

10. 冗余（Redundancy）

    > 虽然冗余可能是一种浪费，但是在去除一个有意义的冗余时需要非常小心。

    冗余听起来是个负面的词，我们不是应该尽量去除冗余吗？在开发过程中，其实各个不同的层面都可能存在冗余，而且这些冗余是有意义的。例如在很多业务持续性比较敏感的系统（银行、证券交易）架构层面，为了保证系统的可靠性，我们需要从设计上有冗余，避免任何单点故障就导致系统无法提供服务，任何时候都不能因为一个模块、硬件、链路出现问题就导致系统服务终端；在开发中，结对编程其实也是一种冗余的形式，有两个开发人员一起工作；在测试活动中，各种不同的测试之间可能也是存在冗余的，安全性、互操作性、性能、易用性、可靠性等测试之间也存在一定的冗余，甚至测试本身是不是就是一种冗余？

11. 失败（Failure）

    > 不知道实现一个故事的三种方法中哪种可行？那就尝试所有三种方法。及时它们都失败了，你肯定还是会学到一些有价值的东西。

    这个原则称为“失败”，其实本质的意思是不要惧怕失败和用于面对失败。谁都想成功，但是并不意味自总是能够成功。在通往成功的道路上，失败可以说是不可避免的。“失败乃成功之母”。

    有时候我们把很多实践花费在了没有结论的讨论上。如果把利用这些时间来尝试可能的想法，我们以及能够知道结果了。在开发过程中，一定要敢于尝试，不要怕失败，要大胆的试错。为了支持这个原则，就需要构建一个支持“失败”的团队氛围，不要因为试错的过程而批判开发人员，而是鼓励大家不断的尝试。如果失败了，积极的分析结果，积累经验。

12. 质量（Quality）

    > 通过牺牲质量来控制的手段是没有效率的。质量不是一个控制变量。项目不会因为接受低质量而加快进度，也不会因为要求更高质量而使进度减慢。

    在项目管理中提到成本、进度、质量和范围之间是个平衡。但是XP认为质量是不能牺牲的。如果是为了赶进度、降低成本而牺牲质量，最终结果可能是适得其反。

    > 如果你不能通过控制质量来控制项目，那你如何控制？时间和费用通常是固定的。XP选择了范围作为计划、跟踪项目的基本手段。范围是不可能预先精确制导的，因此它是一个好的杠杆。

    如果再考虑“人性化”的话，你会发现没有人愿意交付一个低质量的产品，也没有人愿意在一个不断交付低质量产品的团队中工作。

13. 婴儿步（Baby Steps）

    > 婴儿步的观点认为：相比于团队取消失败的、大的改变引起的浪费，多个小步前进的代价要小得多。

    获得“大”成就是每个团队和其中成员的自然的需要，但是每个“大”成就都是有很多“小”成就构成的。婴儿步并不是要放弃我们对大成就的追求，婴儿步也不意味着慢速度。婴儿步可以有效的避免突然出现重大的风险，也避免在错误的道路上走的太远。婴儿步这个原则在敏捷中有着广泛的应用，不管是每日构建、持续集成、持续交付都是体现了婴儿步原则。

14. 接受责任（Accepted Responsibility）

    > 如果有人试图给你责任，只有你自己能够决定是否负这个责任。

    这个是敏捷中非常强调的自组织的一个体现。任何责任并不是其他人指定给某个人的，而是团队成员自己要认可这个责任，这样才能真正的把事情做好。例如：最终干活的人需要参与前期的计划和估算以保证估算的合理性；负责软件设计的人最好也是接下来进行编码的人。

    责任和权利必须是对等的。当开发人员接受了相应的责任，就意味着他有与之对应的权利，这样才能最有的发挥团队。




# XP的实践





# XP对软件测试的影响



# 一个测试人员的思考





# 其他的想法

1. The death of Agile - Allen Holub https://www.youtube.com/watch?v=vSnCeJEka_s：

   Agile并不仅仅需要开发团队的Agile，而是需要整个组织的Agile。当你的组织想要开始敏捷，并希望获得培训，但是从你想要agile培训，到最终agile的顾问来培训，那么你的组织显然不够敏捷。你很难想象在这样的组织里面，你的开发能够是敏捷的。

   QA可能是阻碍一个团队进行敏捷转型的绊脚石。因为在敏捷中，测试的频率比瀑布要高很多，每几分钟可能就需要运行一次测试，测试团队和开发团队是高度整合的。而任何组织的变革必然会牵涉到不同部门的既得利益。最简单的例子，原来QA部分的领导可能会受到影响，从而阻止团队的敏捷转型。

   除此之外，还有产品开发经理（敏捷中，强调直接和客户的交互，有些开发中的角色就不再需要了），公司里面的各种控制部分（财务控制的），项目经理，所有的中间管理层。

   很多团队都在寻找一个Agile process。有的团队说，我们按照scrum的process来运行项目，我们是Agile团队。对于流程执著的追求是很多团队来自内心的一种需要，但是我们再看看敏捷宣言。里面明确说到人要比流程更重要，但是现实中我们的敏捷团队却在孜孜不倦的寻找一个“敏捷流程”，希望通过很好的遵循一个敏捷流程来实现团队的敏捷。

2. 

   



# 参考资料

1. https://baike.baidu.com/item/Kent%20Beck
2. https://www.linkedin.com/in/kentbeck/
3. The death of Agile - Allen Holub https://www.youtube.com/watch?v=vSnCeJEka_s